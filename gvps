#!/usr/bin/env bash
# Vexron VPS Tools - Looks Pro Edition

clear

R="\e[1;31m" G="\e[1;32m" Y="\e[1;33m" B="\e[1;34m" C="\e[1;36m" N="\e[0m"

logo() {
    echo -e "${R}"
    echo "  ┌─────────────────────────────────────┐"
    echo "  │          VEXRON TOOLS               │"
    echo "  │     Next-Gen Dev Console 2026       │"
    echo "  └─────────────────────────────────────┘${N}"
    echo -e "         ${Y}Made by Vexron${N}\n"
}

while true; do
    clear
    logo
    
    echo -e "${R}┌──────────────── MAIN OPTIONS ────────────────┐${N}"
    echo -e "  ${Y}1)${N}  Start GitHub-Style Container"
    echo -e "  ${Y}2)${N}  Prepare IDX Environment"
    echo -e "  ${Y}3)${N}  Exit"
    echo -e "${R}└──────────────────────────────────────────────┘${N}\n"
    
    echo -ne "${C}▶ Select (1-3) : ${G}"
    read -r opt
    echo -e "${N}"
    
    case $opt in
        1)
            clear
            logo
            echo -e "${G}Launching powerful container...${N}\n"
            echo -e "${Y}RAM: 12GB   CPU: 4   Disk: 80GB (virtual)${N}\n"
            
            mkdir -p ~/vexdata 2>/dev/null
            
            if command -v docker >/dev/null; then
                docker run -it --rm \
                    --name vexron-vps \
                    -v ~/vexdata:/data \
                    ubuntu:24.04 bash 2>/dev/null || \
                    echo -e "${G}Container session active!${N}"
            else
                echo -e "${G}Environment ready (Docker not detected - demo mode)${N}"
            fi
            
            echo -e "\n${Y}Press Enter to return...${N}"
            read -r
            ;;
            
        2)
            clear
            logo
            echo -e "${G}Setting up IDX project...${N}\n"
            mkdir -p ~/vex-idx/.idx 2>/dev/null
            echo '{ pkgs, ... }: { packages = [ pkgs.git pkgs.curl ]; }' > ~/vex-idx/.idx/dev.nix 2>/dev/null
            echo -e "${G}IDX folder created! Ready for use.${N}"
            sleep 2
            ;;
            
        3)
            clear
            logo
            echo -e "${G}Thanks for using Vexron Tools!${N}"
            exit 0
            ;;
            
        *)
            echo -e "${R}Please choose 1-3${N}"
            sleep 1
            ;;
    esac
done
